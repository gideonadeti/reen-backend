services:
  api-gateway-1:
    container_name: api-gateway-1
    build:
      context: .
      dockerfile: apps/api-gateway/Dockerfile
  api-gateway-2:
    container_name: api-gateway-2
    build:
      context: .
      dockerfile: apps/api-gateway/Dockerfile
  auth:
    container_name: auth
    build:
      context: .
      dockerfile: apps/auth/Dockerfile
  products:
    container_name: products
    build:
      context: .
      dockerfile: apps/products/Dockerfile
  nginx:
    container_name: nginx
    build:
      context: .
      dockerfile: apps/nginx/Dockerfile
    ports:
      - '80:80'
    depends_on:
      - api-gateway-1
      - api-gateway-2
